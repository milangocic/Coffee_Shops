function initMap(){getLocation()}function getLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(showLocalPosition,showError):setMap(44.7965522,20.4327851)}function showLocalPosition(a){setMap(a.coords.latitude,a.coords.longitude)}function showError(a){switch(a.code){case a.PERMISSION_DENIED:alert("User denied the request for Geolocation.");break;case a.POSITION_UNAVAILABLE:alert("Location information is unavailable.");break;case a.TIMEOUT:alert("The request to get user location timed out.");break;case a.UNKNOWN_ERROR:alert("An unknown error occurred.")}}function setMap(a,t){var e={lat:a,lng:t};map=new google.maps.Map(document.getElementById("map"),{center:e,scrollwheel:!0,zoom:13}),getCoffePlaces(a,t,map);new google.maps.Marker({position:e,map:map,title:"You're Here!"})}function getCoffePlaces(a,t,e){var i=[],o="https://api.foursquare.com/v2/venues/search?v=20171010&ll="+a+"%2C%20"+t+"&query=coffee&limit=10&intent=browse&radius=5000&client_id=XP1OWSPGSMPYNOXMNL4SCDZLGIYFXXSBBLL0MS0J51NK2RV3&client_secret=ARLVYDYXT2IZPVRXHXOECCCKSACNEO0JFF0EVMGWSNHSKEVW";$.ajax({type:"GET",url:o,dataType:"json",success:function(a){var t=a.response.venues,o=JSON.stringify(t);localStorage.setItem("shopData",o);var s="";if(t.length>0){t.sort(function(a,t){return a.location.distance<t.location.distance?-1:a.location.distance>t.location.distance?1:0});for(var n=0;n<t.length;n++)i.push({lat:t[n].location.lat,lng:t[n].location.lng,name:t[n].name}),s+=showThumbs(t[n]);document.getElementById("coffe-shops-list").innerHTML=s}else alert("No Coffee Today!!!");displayMarkers(i,e)},error:function(a,t){alert("Api error!!")}})}function displayMarkers(a,t){if(""!=a)for(var e=0;e<a.length;e++){var i=new google.maps.Marker({position:new google.maps.LatLng(a[e].lat,a[e].lng),title:a[e].name,map:t});i.setIcon("../libs/img/blue-dot.png"),i.setMap(t)}}function showThumbs(a){var t="";return t+="<div class='coffeeShopThumb'>",t+="<a href='javascript:void(0)' data-id="+a.id+" onclick='getDetails(this)'>",t+="<div class='shop-thumb'>",t+="<div class='shop-info'>",t+="<h4>"+a.name+"</h4>",t+="<span>Address: "+a.location.address+"</span>",t+="<span>Dist: "+a.location.distance+"m</span>",t+="</div>",t+="<div class='shop-image'>",t+='<img src="libs/img/coffee-cup.png">',t+="</div>",t+="</div>",t+="</a>",t+="</div>"}function getDetails(a){var t="",e="",i="",o="";$(".modal").css("display","block"),e=$(a).data("id"),i=localStorage.getItem("shopData"),o=(i=JSON.parse(i)).filter(function(a){return a.id===e});for(var s=0;s<o.length;s++)t+="<div class='details-box'>",t+="<div class='details-data'><i class='fa fa-user' aria-hidden='true' title='Name'></i> "+o[s].name+"</div>",t+="<div class='details-data'><i class='fa fa-map-marker' aria-hidden='true' title='Address'></i> "+o[s].location.address+"</div>",t+="<div class='details-data'><i class='fa fa-building' aria-hidden='true' title='City'></i> "+o[s].location.city+"</div>",t+="<div class='details-data'><i class='fa fa-globe' aria-hidden='true' title='Country'></i> "+o[s].location.country+"</div>",t+="<div class='details-data'><i class='fa fa-map' aria-hidden='true' title='Distance'></i> "+o[s].location.distance+"m</div>",t+="<div class='details-data'><i class='fa fa-location-arrow' aria-hidden='true' title='Location'></i> Lat:"+o[s].location.lat+", Lng: "+o[s].location.lng+"</div>",void 0!=o[s].contact.facebookName&&(t+="<div class='details-data'><i class='fa fa-facebook' aria-hidden='true' title='Facebook'></i> "+o[s].contact.facebookName+"</div>"),void 0!=o[s].contact.formattedPhone&&(t+="<div class='details-data'><i class='fa fa-phone' aria-hidden='true' title='Phone'></i> "+o[s].contact.formattedPhone+"</div>"),t+="<div class='details-data'><i class='fa fa-check' aria-hidden='true' title='Checkins Count'></i> "+o[s].stats.checkinsCount+"</div>",t+="<div class='details-data'><i class='fa fa-star' aria-hidden='true' title='Tip Count'></i> "+o[s].stats.tipCount+"</div>",t+="<div class='details-data'><i class='fa fa-user-plus' aria-hidden='true' title='Users Count'></i> "+o[s].stats.usersCount+"</div>",t+="</div>";$(".modal-body").html(t)}function sortByDistance(){var a="",t="";if(t=localStorage.getItem("shopData"),t=JSON.parse(t),document.getElementById("coffe-shops-list").innerHTML="",""!=t){t.sort(function(a,t){return a.location.distance<t.location.distance?-1:a.location.distance>t.location.distance?1:0});for(var e=0;e<t.length;e++)a+=showThumbs(t[e]);document.getElementById("coffe-shops-list").innerHTML=a}else alert("No Data!!!")}function sortByName(){var a="",t="";if(t=localStorage.getItem("shopData"),t=JSON.parse(t),document.getElementById("coffe-shops-list").innerHTML="",""!=t){t.sort(function(a,t){return a.name<t.name?-1:a.name>t.name?1:0});for(var e=0;e<t.length;e++)a+=showThumbs(t[e]);document.getElementById("coffe-shops-list").innerHTML=a}else alert("No Data!!!")}function closeModal(){$(".modal").css("display","none")}function toggleMenu(){$("header nav ul").toggleClass("open")}$(document).on("click",function(a){"modal"==a.target.className&&$(".modal").css("display","none")});
//# sourceMappingURL=app.min.js.map